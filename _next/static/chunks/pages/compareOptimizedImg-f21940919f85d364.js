(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{1213:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/compareOptimizedImg",function(){return t(5982)}])},5982:function(e,n,t){"use strict";t.r(n);var i=t(4924),o=t(6042),l=t(9396),r=t(5893),s=t(7976),c=t(639),a=t(3234),g=t(979),d=t(7741),u=t(9008),x=t.n(u),m=t(7294);t(1919);var h=t(8005),f=t.n(h),p=function(){var e,n,t=function(e,n){console.log("".concat(e,";").concat(n)),w(function(t){return(0,l.Z)((0,o.Z)({},t),(0,i.Z)({},e,n))})},u=function(n){if(n.target.files){var i=new FileReader;new FileReader;var o=n.target.files[0];null!=o&&(new(f())(o,{quality:.5,success:function(n){console.log({result:n}),i.readAsDataURL(n),i.onload=function(){if(null!=i.result){console.log("圧縮後の画像(base64)");var e,n=i.result;console.log({compressed_data_uri:n}),v(n),t("compressedImg",Number(null===(e=h(n))||void 0===e?void 0:e.dataLength))}},C(e.DisplayImgs)},error:function(e){console.log(e.message)}}),i.readAsDataURL(o),i.onload=function(){if(null!=i.result){console.log("フォームで選択された画像(base64)");var e,n=i.result;console.log({original_data_uri:n}),y(n),t("originalImg",Number(null===(e=h(n))||void 0===e?void 0:e.dataLength))}},C(e.DisplayImgs))}},h=function(e){try{var n=e.split(","),t=n[0].match(/:(.*?);/),i=Array.isArray(t)?t[0]:"",o=atob(n[1]).length;return{mimeType:i,dataLength:o}}catch(l){console.log(l);return}};(n=e||(e={})).SelectImg="select img",n.DisplayImgs="display imgs";var p=(0,m.useState)(""),j=p[0],v=p[1],I=(0,m.useState)(""),b=I[0],y=I[1],S=(0,m.useState)({originalImg:0,compressedImg:0}),_=S[0],w=S[1],k=(0,m.useState)(e.SelectImg),z=k[0],C=k[1];return(0,r.jsxs)(s.m$.div,{bgColor:"#F4F4F4",height:"100vh",children:[(0,r.jsxs)(x(),{children:[(0,r.jsx)("title",{children:"Design QRcode Generator"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(c.kC,{flexDirection:"column",alignItems:"center",py:"12",children:[(0,r.jsx)(c.X6,{size:"3xl",children:"Design QRcode Generator"}),z==e.SelectImg&&(0,r.jsxs)(c.xu,{mt:"24",children:[(0,r.jsx)(c.xv,{fontSize:"2xl",pt:"4",fontWeight:"medium",children:"サイズ比較をする画像を選択してください．"}),(0,r.jsx)(a.NI,{w:"xl",children:(0,r.jsx)(g.II,{mt:"4",borderColor:"darkgray",fontWeight:"black",type:"file",accept:"image/*,.png,.jpg,.jpeg,",onChange:function(e){u(e)}})})]}),z==e.DisplayImgs&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.xv,{fontSize:"2xl",pt:"4",children:"圧縮前後の画像比較"}),(0,r.jsxs)(c.kC,{children:[(0,r.jsxs)(c.xu,{width:"550px",children:[(0,r.jsx)(c.xv,{fontSize:"2xl",pt:"4",fontWeight:"bold",children:"圧縮前の原画像"}),(0,r.jsx)(s.m$.img,{id:"not-use-next-image",src:"".concat(b),alt:"圧縮前の原画像",objectFit:"contain",w:"500px",h:"450px"}),(0,r.jsxs)(c.xv,{fontSize:"2xl",pt:"4",children:["データサイズ: ",_.originalImg," byte"]})]}),(0,r.jsxs)(c.xu,{children:[(0,r.jsx)(c.xv,{fontSize:"2xl",pt:"4",fontWeight:"bold",children:"圧縮後の画像"}),(0,r.jsx)(s.m$.img,{id:"not-use-next-image",src:"".concat(j),alt:"圧縮後の原画像",objectFit:"contain",w:"500px",h:"450px"}),(0,r.jsxs)(c.xv,{fontSize:"2xl",pt:"4",children:["データサイズ: ",_.compressedImg," byte"]})]})]}),(0,r.jsxs)(c.xv,{fontSize:"2xl",pt:"4",fontWeight:"bold",color:"blue.400",children:["約",100-function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.round(e*n)/n}(_.compressedImg/_.originalImg*100),"%のデータ量削減"]}),(0,r.jsx)(c.kC,{mt:"4",gap:"8",children:(0,r.jsx)(d.zx,{onClick:function(){C(e.SelectImg)},colorScheme:"blackAlpha",children:"別の画像を選択する"})})]})]})]})};n.default=p}},function(e){e.O(0,[894,772,774,888,179],function(){return e(e.s=1213)}),_N_E=e.O()}]);